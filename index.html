<!DOCTYPE html>
<html>
<head>
<title>Flappy Bird</title>
<style>
body {
  background-color: black;
}

#game {
  width: 400px;
  height: 400px;
  border: 1px solid black;
}

.bird {
  fill: green;
  stroke: black;
  stroke-width: 1px;
  width: 10px;
  height: 10px;
}

.pipe {
  fill: white;
  stroke: black;
  stroke-width: 1px;
  width: 100px;
  height: 10px;
}
</style>
</head>
<body>
<div id="game"></div>
<script>
var game = document.getElementById("game");
var bird = {
  x: 200,
  y: 200,
  dir: 0
};
var pipes = [];

function draw() {
  game.innerHTML = "";

  for (var i = 0; i < pipes.length; i++) {
    var pipe = pipes[i];
    var div = document.createElement("div");
    div.className = "pipe";
    div.style.left = pipe.x + "px";
    div.style.top = pipe.y + "px";
    game.appendChild(div);
  }

  var div = document.createElement("div");
  div.className = "bird";
  div.style.left = String(bird.x) + "px";
  div.style.top = bird.y + "px";
  game.appendChild(div);
}

function update() {
  bird.x += bird.dir * 10;

  if (bird.x < 0 || bird.x >= game.width) {
    alert("Game over!");
    return;
  }

  var pipe = pipes.shift();
  if (pipe) {
    if (pipe.y < 0) {
      pipes.push(pipe);
    } else if (bird.y + 10 < pipe.y) {
      alert("Game over!");
      return;
    }
  } else {
    pipe = {
      x: Math.random() * game.width,
      y: -100
    };
    pipes.push(pipe);
  }

  draw();
}

var timer = setInterval(update, 100);
</script>
</body>
</html>
